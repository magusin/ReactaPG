generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model player {
  id       Int    @id @default(autoincrement())
  username String @unique(map: "Player_username_key")
  password String @db.VarChar(255)
  email    String @unique(map: "Player_email_key")
  def      Int    @default(1)
  dex      Int    @default(1)
  dmgMax   Int    @default(5)
  dmgMin   Int    @default(1)
  hp       Int    @default(50)
  hpMax    Int    @default(50)
  init     Int    @default(1)
  level    Int    @default(1)
  pa       Int    @default(20)
  paMax    Int    @default(20)
  str      Int    @default(1)
  type     String @default("player")
  xp       Int    @default(0)
  speed    Int    @default(1)
}

model fight {
  uuid         String         @id @default(uuid())
  player1_id   Int
  player2_id   Int
  winner_id    Int
  events       fightEvent[]
}

model fightEvent {
  uuid        String   @id @default(uuid())
  combat_id   String   @map("combat_uuid")
  message     String
  turn        Int

  combat      fight   @relation(fields: [combat_id], references: [uuid])
}
